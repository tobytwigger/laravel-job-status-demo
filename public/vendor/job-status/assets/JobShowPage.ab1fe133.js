import{S as k,u as I,Q as R,a as L,b as v}from"./api.dd6063ee.js";import{Q as _,b as d,c as y,d as x}from"./QItem.7e3653a5.js";import{Q,a as N}from"./api.94971255.js";import{Q as g,R as w}from"./use-router-link.dc5876ec.js";import{r as q,Q as A}from"./relativeTime.a44f7e5d.js";import{Q as m}from"./QChip.ce2d324b.js";import{d as S}from"./dayjs.min.54da9cde.js";import{H as B,c as C,I as s,J as l,K as e,d as a,W as u,L as P,M as r,N as n,O as i,r as V,A as j,P as z,Q as F,F as J}from"./index.a4efa452.js";import"./render.a537d9f4.js";import"./index.2cf0d985.js";import"./config.b6f61684.js";import"./format.801e7424.js";const M={class:"text-weight-medium"},T={class:"text-grey-8 q-gutter-xs"},$=B({__name:"TrackedRunListItem",props:{trackedRun:null},setup(h){const t=h;S.extend(q);const o=C(()=>S().to(t.trackedRun.created_at)),f=C(()=>{let c=1,p=t.trackedRun;for(;p.parent!==null;)p=p.parent,c++;return c});return(c,p)=>(s(),l(y,{clickable:"",to:{path:"/run/"+t.trackedRun.id}},{default:e(()=>[a(_,{avatar:"",top:""},{default:e(()=>[t.trackedRun.status===u(k).Queued?(s(),l(g,{key:0,name:"hourglass_top",color:"black",size:"34px"})):t.trackedRun.status===u(k).Started?(s(),l(A,{key:1,"show-value":"",value:t.trackedRun.percentage,rounded:"",size:"34px",class:"q-ma-md"},null,8,["value"])):t.trackedRun.status===u(k).Succeeded?(s(),l(g,{key:2,name:"done",color:"black",size:"34px"})):t.trackedRun.status===u(k).Failed?(s(),l(g,{key:3,name:"close",color:"black",size:"34px"})):t.trackedRun.status===u(k).Cancelled?(s(),l(g,{key:4,name:"not_interested",color:"black",size:"34px"})):P("",!0)]),_:1}),a(_,{top:"",class:"col-2 gt-sm"},{default:e(()=>[a(d,{class:"q-mt-sm"},{default:e(()=>[r(n(u(o)),1)]),_:1})]),_:1}),a(_,{top:""},{default:e(()=>[a(d,{lines:"1"},{default:e(()=>[i("span",M,n(t.trackedRun.status),1)]),_:1}),a(d,{caption:""},{default:e(()=>[i("span",null,[t.trackedRun.messages.length===0?(s(),l(m,{key:0,dense:"",icon:"chat"},{default:e(()=>[r("Messages: "+n(t.trackedRun.messages.length),1)]),_:1})):(s(),l(m,{key:1,dense:"",color:"blue","text-color":"white",icon:"chat"},{default:e(()=>[r(" Messages: "+n(t.trackedRun.messages.length),1)]),_:1}))]),i("span",null,[t.trackedRun.signals.length===0?(s(),l(m,{key:0,dense:"",icon:"sensors"},{default:e(()=>[r("Signals: "+n(t.trackedRun.signals.length),1)]),_:1})):(s(),l(m,{key:1,dense:"",color:"red","text-color":"white",icon:"sensors"},{default:e(()=>[r(" Signals: "+n(t.trackedRun.signals.length),1)]),_:1}))]),i("span",null,[u(f)===1?(s(),l(m,{key:0,dense:"",icon:"replay"},{default:e(()=>[r("Retries: "+n(u(f)-1),1)]),_:1})):(s(),l(m,{key:1,dense:"",color:"orange","text-color":"white",icon:"replay"},{default:e(()=>[r(" Retries: "+n(u(f)-1),1)]),_:1}))])]),_:1})]),_:1}),a(_,{top:"",side:""},{default:e(()=>[i("div",T,[a(g,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),D={class:"row"},E={class:"col-12 q-py-md"},H={class:"col-12"},le=B({__name:"JobShowPage",props:{alias:null},setup(h){const t=h,o=V(null);I(c=>{N.jobShow(t.alias).then(p=>o.value=p).finally(c)});function f(c){return c.uuid}return(c,p)=>o.value!==null?(s(),l(Q,{key:0,class:"justify-evenly",padding:""},{default:e(()=>[a(L,null,{default:e(()=>[a(R,{icon:"list",to:"/jobs",label:"Jobs"}),a(R,{label:o.value.alias,icon:"view_stream",to:"/jobs/"+o.value.alias},null,8,["label","to"])]),_:1}),i("div",D,[i("div",E,[a(x,{bordered:"",separator:""},{default:e(()=>[j((s(),l(y,null,{default:e(()=>[a(_,null,{default:e(()=>[a(d,null,{default:e(()=>[r(n(o.value.alias),1)]),_:1}),a(d,{caption:""},{default:e(()=>[r("Alias")]),_:1})]),_:1})]),_:1})),[[w]]),j((s(),l(y,null,{default:e(()=>[a(_,null,{default:e(()=>[a(d,null,{default:e(()=>[r(n(o.value.class),1)]),_:1}),a(d,{caption:""},{default:e(()=>[r("Class")]),_:1})]),_:1})]),_:1})),[[w]])]),_:1})]),i("div",H,[a(x,{bordered:"",class:"rounded-borders",style:{"min-width":"85%"}},{default:e(()=>[a(d,{header:""},{default:e(()=>[r("Runs")]),_:1}),a(v),(s(!0),z(J,null,F(o.value.runs,b=>(s(),z("div",{key:f(b)},[a($,{"tracked-run":b},null,8,["tracked-run"]),a(v)]))),128))]),_:1})])])]),_:1})):(s(),l(Q,{key:1,class:"items-center justify-evenly"},{default:e(()=>[r(" Loading ")]),_:1}))}});export{le as default};
