import{u as x,Q as B,a as v,b as _}from"./useApi.dffa5963.js";import{Q as o,b as r,c as L,d as k}from"./QItem.13bcd609.js";import{Q as f,a as S}from"./api.a66d1dd1.js";import{Q as h}from"./use-router-link.f1558560.js";import{_ as l}from"./StatusCount.e725432e.js";import{d as b}from"./dayjs.min.54da9cde.js";import{l as I}from"./localizedFormat.518c866f.js";import{J as y,c as q,K as s,L as i,M as e,d as t,O as d,Q as g,P as w,$ as F,r as N,R as Q,S as j,F as z}from"./index.5e935282.js";import"./render.81c8b894.js";import"./index.aa7156d4.js";import"./config.b6f61684.js";import"./QAvatar.51194e0b.js";import"./QChip.010cf212.js";const C={class:"text-weight-medium"},P={class:"text-grey-8 q-gutter-xs"},V=y({__name:"BatchListItem",props:{batch:null},setup(m){const a=m;b.extend(I);const n=q(()=>a.batch.name!==null&&a.batch.name!==""?a.batch.name:"Batch dispatched at "+b(a.batch.created_at).format("L LTS"));return(c,u)=>(s(),i(L,{clickable:"",to:{path:"/batch/"+a.batch.id}},{default:e(()=>[t(o,{avatar:"",top:""},{default:e(()=>[t(h,{name:"account_tree",color:"black",size:"34px"})]),_:1}),t(o,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm"},{default:e(()=>[d("Batch")]),_:1})]),_:1}),t(o,{top:""},{default:e(()=>[t(r,{lines:"1"},{default:e(()=>[g("span",C,w(F(n)),1)]),_:1}),t(r,{caption:"",lines:"5"},{default:e(()=>[t(l,{count:a.batch.queued,label:"Queued",color:"primary"},null,8,["count"]),t(l,{count:a.batch.started,label:"Running",color:"info"},null,8,["count"]),t(l,{count:a.batch.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),t(l,{count:a.batch.failed,label:"Failed",color:"negative"},null,8,["count"]),t(l,{count:a.batch.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),t(o,{top:"",side:""},{default:e(()=>[g("div",P,[t(h,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),W=y({__name:"BatchListPage",setup(m){const a=N(null);x(c=>{S.batchList().then(u=>a.value=u).finally(c)});function n(c){return c.batch_id}return(c,u)=>a.value!==null?(s(),i(f,{key:0,class:"justify-evenly"},{default:e(()=>[t(v,null,{default:e(()=>[t(B,{icon:"list",to:"/batch",label:"Batches"})]),_:1}),t(k,{class:"rounded-borders q-pa-lg"},{default:e(()=>[t(r,{header:""},{default:e(()=>[d("All Batches")]),_:1}),t(_),(s(!0),Q(z,null,j(a.value,p=>(s(),Q("div",{key:n(p)},[t(V,{batch:p},null,8,["batch"]),t(_)]))),128))]),_:1})]),_:1})):(s(),i(f,{key:1,class:"items-center justify-evenly"},{default:e(()=>[d(" Loading ")]),_:1}))}});export{W as default};
