import{S as u,u as w,Q as B,a as I,b as J}from"./api.bdf06d0d.js";import{Q as k,b as g,c as q,d as F}from"./QItem.fafa534b.js";import{Q as y,a as A}from"./api.3313c95c.js";import{Q as v}from"./use-router-link.363cdb16.js";import{Q as C}from"./QAvatar.6e42787b.js";import{Q as S}from"./QChip.d178d948.js";import{J as Q,K as l,R as h,L as m,M as a,d as e,O as c,P as n,c as d,Q as j,Y as i,r as N,S as P,F as V}from"./index.a30e379d.js";import"./render.ef0c849b.js";import"./index.aa7156d4.js";import"./config.b6f61684.js";const f=Q({__name:"StatusCount",props:{count:null,label:null,color:null},setup(r){const t=r;return(p,s)=>(l(),h("span",null,[t.count===0?(l(),m(S,{key:0,dense:""},{default:a(()=>[e(C,{color:r.color,"text-color":"white"},{default:a(()=>[c(n(t.count),1)]),_:1},8,["color"]),c(" "+n(t.label),1)]),_:1})):(l(),m(S,{key:1,dense:"",color:t.color,"text-color":"white"},{default:a(()=>[e(C,{color:r.color,"text-color":"white"},{default:a(()=>[c(n(t.count),1)]),_:1},8,["color"]),c(" "+n(t.label),1)]),_:1},8,["color"]))]))}}),z={class:"text-weight-medium"},E={class:"text-grey-8 q-gutter-xs"},R=Q({__name:"TrackedJobListItem",props:{trackedJob:null},setup(r){const t=r,p=d(()=>t.trackedJob.runs.filter(o=>o.status===u.Failed).length),s=d(()=>t.trackedJob.runs.filter(o=>o.status===u.Started).length),_=d(()=>t.trackedJob.runs.filter(o=>o.status===u.Queued).length),b=d(()=>t.trackedJob.runs.filter(o=>o.status===u.Cancelled).length),L=d(()=>t.trackedJob.runs.filter(o=>o.status===u.Succeeded).length);return(o,T)=>(l(),m(q,{clickable:"",to:{path:"/jobs/"+t.trackedJob.alias}},{default:a(()=>[e(k,{avatar:"",top:""},{default:a(()=>[e(v,{name:"account_tree",color:"black",size:"34px"})]),_:1}),e(k,{top:"",class:"col-2 gt-sm"},{default:a(()=>[e(g,{class:"q-mt-sm"},{default:a(()=>[c(n(t.trackedJob.class),1)]),_:1})]),_:1}),e(k,{top:""},{default:a(()=>[e(g,{lines:"1"},{default:a(()=>{var x;return[j("span",z,n((x=t.trackedJob.alias)!=null?x:t.trackedJob.class),1)]}),_:1}),e(g,{caption:"",lines:"5"},{default:a(()=>[e(f,{count:i(_),label:"Queued",color:"primary"},null,8,["count"]),e(f,{count:i(s),label:"Running",color:"info"},null,8,["count"]),e(f,{count:i(b),label:"Cancelled",color:"warning"},null,8,["count"]),e(f,{count:i(p),label:"Failed",color:"negative"},null,8,["count"]),e(f,{count:i(L),label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(k,{top:"",side:""},{default:a(()=>[j("div",E,[e(v,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),X=Q({__name:"JobListPage",setup(r){const t=N(null);w(s=>{A.jobList().then(_=>t.value=_).finally(s)});function p(s){return s.class}return(s,_)=>t.value!==null?(l(),m(y,{key:0,class:"justify-evenly"},{default:a(()=>[e(I,null,{default:a(()=>[e(B,{icon:"list",to:"/jobs",label:"Jobs"})]),_:1}),e(F,{class:"rounded-borders q-pa-lg"},{default:a(()=>[e(g,{header:""},{default:a(()=>[c("All Jobs")]),_:1}),e(J),(l(!0),h(V,null,P(t.value.jobs,b=>(l(),h("div",{key:p(b)},[e(R,{"tracked-job":b},null,8,["tracked-job"]),e(J)]))),128))]),_:1})]),_:1})):(l(),m(y,{key:1,class:"items-center justify-evenly"},{default:a(()=>[c(" Loading ")]),_:1}))}});export{X as default};
