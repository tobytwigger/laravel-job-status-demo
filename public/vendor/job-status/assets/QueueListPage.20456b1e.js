import{c as y,Q as x,a as k,b as _}from"./index.637ea310.js";import{Q as o,b as n,c as v,d as B}from"./QItem.c43cac6b.js";import{Q as f}from"./QPage.4bb22602.js";import{Q as q}from"./use-router-link.9a48f7d2.js";import{_ as u}from"./StatusCount.30dc738d.js";import{J as h,K as s,L as r,M as t,d as e,O as c,P as Q,Q as b,r as L,k as I,R as g,S,F as w}from"./index.6030dd21.js";import"./render.ffb77abb.js";import"./index.b7f28e66.js";import"./QAvatar.6ae7fd57.js";import"./QChip.ee8c1a51.js";const C={class:"text-weight-medium"},F={class:"text-grey-8 q-gutter-xs"},N=h({__name:"QueueListItem",props:{queue:null},setup(i){const a=i;return(d,m)=>(s(),r(v,{clickable:"",to:{path:"/queues/"+encodeURIComponent(a.queue.name)}},{default:t(()=>[e(o,{avatar:"",top:""},{default:t(()=>[e(q,{name:"queue",color:"black",size:"34px"})]),_:1}),e(o,{top:"",class:"col-2 gt-sm"},{default:t(()=>[e(n,{class:"q-mt-sm"},{default:t(()=>[c(Q(a.queue.name),1)]),_:1})]),_:1}),e(o,{top:""},{default:t(()=>[e(n,{lines:"1"},{default:t(()=>[b("span",C,Q(a.queue.name),1)]),_:1}),e(n,{caption:"",lines:"5"},{default:t(()=>[e(u,{count:a.queue.queued,label:"Queued",color:"primary"},null,8,["count"]),e(u,{count:a.queue.started,label:"Running",color:"info"},null,8,["count"]),e(u,{count:a.queue.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),e(u,{count:a.queue.failed,label:"Failed",color:"negative"},null,8,["count"]),e(u,{count:a.queue.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(o,{top:"",side:""},{default:t(()=>[b("div",F,[e(q,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),J=h({__name:"QueueListPage",setup(i){const a=L(null);let d=y.queues.search().bypassAuth().listen().onUpdated(l=>a.value=l).start();I(()=>{d.stop()});function m(l){return l.name}return(l,P)=>a.value!==null?(s(),r(f,{key:0,class:"justify-evenly"},{default:t(()=>[e(k,null,{default:t(()=>[e(x,{icon:"list",to:"/queues",label:"Queues"})]),_:1}),e(B,{class:"rounded-borders q-pa-lg"},{default:t(()=>[e(n,{header:""},{default:t(()=>[c("All Queues")]),_:1}),e(_),(s(!0),g(w,null,S(a.value,p=>(s(),g("div",{key:m(p)},[e(N,{queue:p},null,8,["queue"]),e(_)]))),128))]),_:1})]),_:1})):(s(),r(f,{key:1,class:"items-center justify-evenly"},{default:t(()=>[c(" Loading ")]),_:1}))}});export{J as default};
