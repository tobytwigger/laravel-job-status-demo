import{u as j,Q as L,a as B,b as h}from"./useApi.dffa5963.js";import{Q as m,b as p,c as I,d as q}from"./QItem.13bcd609.js";import{Q,a as w}from"./api.a66d1dd1.js";import{Q as J}from"./use-router-link.f1558560.js";import{S as l}from"./api.9a3f3035.js";import{_ as r}from"./StatusCount.e725432e.js";import{J as C,c as n,K as u,L as _,M as a,d as e,O as b,P as y,Q as x,$ as c,r as F,R as v,S as N,F as P}from"./index.5e935282.js";import"./render.81c8b894.js";import"./index.aa7156d4.js";import"./config.b6f61684.js";import"./QAvatar.51194e0b.js";import"./QChip.010cf212.js";const V={class:"text-weight-medium"},$={class:"text-grey-8 q-gutter-xs"},z=C({__name:"TrackedJobListItem",props:{trackedJob:null},setup(g){const t=g,f=n(()=>t.trackedJob.runs.filter(s=>s.status===l.Failed).length),o=n(()=>t.trackedJob.runs.filter(s=>s.status===l.Started).length),i=n(()=>t.trackedJob.runs.filter(s=>s.status===l.Queued).length),d=n(()=>t.trackedJob.runs.filter(s=>s.status===l.Cancelled).length),S=n(()=>t.trackedJob.runs.filter(s=>s.status===l.Succeeded).length);return(s,A)=>(u(),_(I,{clickable:"",to:{path:"/jobs/"+t.trackedJob.alias}},{default:a(()=>[e(m,{avatar:"",top:""},{default:a(()=>[e(J,{name:"account_tree",color:"black",size:"34px"})]),_:1}),e(m,{top:"",class:"col-2 gt-sm"},{default:a(()=>[e(p,{class:"q-mt-sm"},{default:a(()=>[b(y(t.trackedJob.class),1)]),_:1})]),_:1}),e(m,{top:""},{default:a(()=>[e(p,{lines:"1"},{default:a(()=>{var k;return[x("span",V,y((k=t.trackedJob.alias)!=null?k:t.trackedJob.class),1)]}),_:1}),e(p,{caption:"",lines:"5"},{default:a(()=>[e(r,{count:c(i),label:"Queued",color:"primary"},null,8,["count"]),e(r,{count:c(o),label:"Running",color:"info"},null,8,["count"]),e(r,{count:c(d),label:"Cancelled",color:"warning"},null,8,["count"]),e(r,{count:c(f),label:"Failed",color:"negative"},null,8,["count"]),e(r,{count:c(S),label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(m,{top:"",side:""},{default:a(()=>[x("div",$,[e(J,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),Y=C({__name:"JobListPage",setup(g){const t=F(null);j(o=>{w.jobList().then(i=>t.value=i).finally(o)});function f(o){return o.class}return(o,i)=>t.value!==null?(u(),_(Q,{key:0,class:"justify-evenly"},{default:a(()=>[e(B,null,{default:a(()=>[e(L,{icon:"list",to:"/jobs",label:"Jobs"})]),_:1}),e(q,{class:"rounded-borders q-pa-lg"},{default:a(()=>[e(p,{header:""},{default:a(()=>[b("All Jobs")]),_:1}),e(h),(u(!0),v(P,null,N(t.value.jobs,d=>(u(),v("div",{key:f(d)},[e(z,{"tracked-job":d},null,8,["tracked-job"]),e(h)]))),128))]),_:1})]),_:1})):(u(),_(Q,{key:1,class:"items-center justify-evenly"},{default:a(()=>[b(" Loading ")]),_:1}))}});export{Y as default};
