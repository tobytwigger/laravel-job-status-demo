import{S as m,u as w,Q as S,a as C,b as y}from"./api.dd6063ee.js";import{Q as f,b as g,c as z,d as B}from"./QItem.7e3653a5.js";import{Q as R,a as I}from"./api.94971255.js";import{Q as p}from"./use-router-link.dc5876ec.js";import{r as L,Q as N}from"./relativeTime.a44f7e5d.js";import{Q as i}from"./QChip.ce2d324b.js";import{d as x}from"./dayjs.min.54da9cde.js";import{H as v,c as Q,I as a,J as r,K as t,d as s,W as n,L as P,M as l,N as o,O as c,r as V,P as b,Q as j,F as q}from"./index.a4efa452.js";import"./render.a537d9f4.js";import"./index.2cf0d985.js";import"./config.b6f61684.js";import"./format.801e7424.js";const F={class:"text-weight-medium"},H={class:"text-grey-8"},M={class:"text-grey-8 q-gutter-xs"},T=v({__name:"NoContextTrackedRunListItem",props:{trackedRun:null},setup(h){const e=h;x.extend(L);const _=Q(()=>x().to(e.trackedRun.created_at)),d=Q(()=>{let u=1,k=e.trackedRun;for(;k.parent!==null;)k=k.parent,u++;return u});return(u,k)=>(a(),r(z,{clickable:"",to:{path:"/run/"+e.trackedRun.id}},{default:t(()=>[s(f,{avatar:"",top:""},{default:t(()=>[e.trackedRun.status===n(m).Queued?(a(),r(p,{key:0,name:"hourglass_top",color:"black",size:"34px"})):e.trackedRun.status===n(m).Started?(a(),r(N,{key:1,"show-value":"",value:e.trackedRun.percentage,rounded:"",size:"34px",class:"q-ma-md"},null,8,["value"])):e.trackedRun.status===n(m).Succeeded?(a(),r(p,{key:2,name:"done",color:"black",size:"34px"})):e.trackedRun.status===n(m).Failed?(a(),r(p,{key:3,name:"close",color:"black",size:"34px"})):e.trackedRun.status===n(m).Cancelled?(a(),r(p,{key:4,name:"not_interested",color:"black",size:"34px"})):P("",!0)]),_:1}),s(f,{top:"",class:"col-2 gt-sm"},{default:t(()=>[s(g,{class:"q-mt-sm"},{default:t(()=>[l(o(n(_)),1)]),_:1})]),_:1}),s(f,{top:""},{default:t(()=>[s(g,{lines:"1"},{default:t(()=>[c("span",F,o(e.trackedRun.alias),1),c("span",H," - "+o(e.trackedRun.status),1)]),_:1}),s(g,{caption:""},{default:t(()=>[c("span",null,[e.trackedRun.messages.length===0?(a(),r(i,{key:0,dense:"",icon:"chat"},{default:t(()=>[l("Messages: "+o(e.trackedRun.messages.length),1)]),_:1})):(a(),r(i,{key:1,dense:"",color:"blue","text-color":"white",icon:"chat"},{default:t(()=>[l(" Messages: "+o(e.trackedRun.messages.length),1)]),_:1}))]),c("span",null,[e.trackedRun.signals.length===0?(a(),r(i,{key:0,dense:"",icon:"sensors"},{default:t(()=>[l("Signals: "+o(e.trackedRun.signals.length),1)]),_:1})):(a(),r(i,{key:1,dense:"",color:"red","text-color":"white",icon:"sensors"},{default:t(()=>[l(" Signals: "+o(e.trackedRun.signals.length),1)]),_:1}))]),c("span",null,[n(d)===1?(a(),r(i,{key:0,dense:"",icon:"replay"},{default:t(()=>[l("Retries: "+o(n(d)-1),1)]),_:1})):(a(),r(i,{key:1,dense:"",color:"orange","text-color":"white",icon:"replay"},{default:t(()=>[l(" Retries: "+o(n(d)-1),1)]),_:1}))])]),_:1})]),_:1}),s(f,{top:"",side:""},{default:t(()=>[c("div",M,[s(p,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),$={class:"row"},A={class:"col-12"},te=v({__name:"HistoryPage",setup(h){const e=V(null);return w(_=>{I.history().then(d=>e.value=d).finally(_)}),(_,d)=>e.value!==null?(a(),r(R,{key:0,class:"justify-evenly",padding:""},{default:t(()=>[s(C,null,{default:t(()=>[s(S,{icon:"manage_search",to:"/history",label:"History"})]),_:1}),c("div",$,[c("div",A,[s(B,{bordered:"",class:"rounded-borders",style:{"min-width":"85%"}},{default:t(()=>[s(g,{header:""},{default:t(()=>[l("Runs")]),_:1}),s(y),(a(!0),b(q,null,j(e.value,u=>(a(),b("div",{key:u.id},[s(T,{"tracked-run":u},null,8,["tracked-run"]),s(y)]))),128))]),_:1})])])]),_:1})):(a(),r(R,{key:1,class:"items-center justify-evenly"},{default:t(()=>[l(" Loading ")]),_:1}))}});export{te as default};
