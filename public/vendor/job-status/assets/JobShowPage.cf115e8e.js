import{c as R,Q as j,a as B,b as Q}from"./index.637ea310.js";import{Q as d,b as o,c,d as h}from"./QItem.c43cac6b.js";import{Q as k}from"./QPage.4bb22602.js";import{R as w}from"./use-router-link.9a48f7d2.js";import{_ as L}from"./TrackedRunListItem.01ab01d9.js";import{Q as J}from"./QAvatar.6ae7fd57.js";import{J as v,K as t,L as r,M as e,d as a,O as l,P as f,Q as n,R as p,F,S as x,r as S,k as $,C as g}from"./index.6030dd21.js";import"./render.ffb77abb.js";import"./index.b7f28e66.js";import"./QCircularProgress.f5416614.js";import"./format.801e7424.js";import"./QChip.ee8c1a51.js";import"./api.9a3f3035.js";import"./dayjs.min.3d4e4043.js";import"./relativeTime.280b640a.js";const C={class:"text-weight-medium"},I=v({__name:"JobFailureListItem",props:{jobFailure:null},setup(u){const i=u;return(s,_)=>(t(),r(c,null,{default:e(()=>[a(d,{avatar:"",top:""},{default:e(()=>[a(J,{color:"primary","text-color":"white"},{default:e(()=>[l(f(i.jobFailure.count),1)]),_:1})]),_:1}),a(d,{top:""},{default:e(()=>[a(o,{lines:"1"},{default:e(()=>[n("span",C,f(i.jobFailure.message),1)]),_:1})]),_:1})]),_:1}))}}),A={key:1},E=v({__name:"JobFailureReasons",props:{jobFailureReasons:null},setup(u){return(i,s)=>(t(),r(h,{bordered:"",separator:""},{default:e(()=>[a(o,{header:""},{default:e(()=>[l("Errors")]),_:1}),u.jobFailureReasons.length===0?(t(),r(c,{key:0},{default:e(()=>[a(d,null,{default:e(()=>[a(o,null,{default:e(()=>[l("Good news; no errors found!")]),_:1})]),_:1})]),_:1})):(t(),p("div",A,[(t(!0),p(F,null,x(u.jobFailureReasons,(_,b)=>(t(),r(c,{key:b},{default:e(()=>[a(I,{"job-failure":_},null,8,["job-failure"])]),_:2},1024))),128))]))]),_:1}))}}),N={class:"row"},P={class:"col-12 col-sm-6 q-py-md"},V={class:"col-12 col-sm-6 q-py-md"},q={class:"row"},D={class:"col-12"},le=v({__name:"JobShowPage",props:{alias:null},setup(u){const i=u,s=S(null);let _=R.jobs.show(i.alias).bypassAuth().listen().onUpdated(m=>s.value=m).start();$(()=>{_.stop()});function b(m){return m.uuid}return(m,U)=>s.value!==null?(t(),r(k,{key:0,class:"justify-evenly",padding:""},{default:e(()=>[a(B,null,{default:e(()=>[a(j,{icon:"list",to:"/jobs",label:"Jobs"}),a(j,{label:s.value.alias,icon:"view_stream",to:"/jobs/"+s.value.alias},null,8,["label","to"])]),_:1}),n("div",N,[n("div",P,[a(h,{bordered:"",separator:""},{default:e(()=>[g((t(),r(c,null,{default:e(()=>[a(d,null,{default:e(()=>[a(o,null,{default:e(()=>[l(f(s.value.alias),1)]),_:1}),a(o,{caption:""},{default:e(()=>[l("Alias")]),_:1})]),_:1})]),_:1})),[[w]]),g((t(),r(c,null,{default:e(()=>[a(d,null,{default:e(()=>[a(o,null,{default:e(()=>[l(f(s.value.class),1)]),_:1}),a(o,{caption:""},{default:e(()=>[l("Class")]),_:1})]),_:1})]),_:1})),[[w]])]),_:1})]),n("div",V,[a(E,{"job-failure-reasons":s.value.failure_reasons},null,8,["job-failure-reasons"])])]),n("div",q,[n("div",D,[a(h,{bordered:"",class:"rounded-borders",style:{"min-width":"85%"}},{default:e(()=>[a(o,{header:""},{default:e(()=>[l("Runs")]),_:1}),a(Q),(t(!0),p(F,null,x(s.value.runs,y=>(t(),p("div",{key:b(y)},[a(L,{"tracked-run":y},null,8,["tracked-run"]),a(Q)]))),128))]),_:1})])])]),_:1})):(t(),r(k,{key:1,class:"items-center justify-evenly"},{default:e(()=>[l(" Loading ")]),_:1}))}});export{le as default};
