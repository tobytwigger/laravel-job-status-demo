import{c as L,Q as j,a as I,b as Q}from"./index.6308fbe4.js";import{Q as c,b as r,c as _,d as v}from"./QItem.da5661b8.js";import{Q as k}from"./QPage.ac8c533b.js";import{R as w}from"./use-router-link.cf5520c1.js";import{_ as J}from"./TrackedRunListItem.1b88a3bd.js";import{Q as $}from"./QAvatar.53b097c6.js";import{H as h,I as t,J as u,K as e,d as a,M as s,N as m,P as i,Q as p,F as x,R,r as g,o as A,k as N,A as F}from"./index.c79c6525.js";import"./render.c9462489.js";import"./index.b7f28e66.js";import"./QCircularProgress.e24b21c2.js";import"./format.a33550d6.js";import"./QChip.4b4082a4.js";import"./api.9a3f3035.js";import"./dayjs.min.2fad109c.js";import"./relativeTime.5c0f92e6.js";const S={class:"text-weight-medium"},C=h({__name:"JobFailureListItem",props:{jobFailure:null},setup(n){const d=n;return(l,o)=>(t(),u(_,null,{default:e(()=>[a(c,{avatar:"",top:""},{default:e(()=>[a($,{color:"primary","text-color":"white"},{default:e(()=>[s(m(d.jobFailure.count),1)]),_:1})]),_:1}),a(c,{top:""},{default:e(()=>[a(r,{lines:"1"},{default:e(()=>[i("span",S,m(d.jobFailure.message),1)]),_:1})]),_:1})]),_:1}))}}),E={key:1},P=h({__name:"JobFailureReasons",props:{jobFailureReasons:null},setup(n){return(d,l)=>(t(),u(v,{bordered:"",separator:""},{default:e(()=>[a(r,{header:""},{default:e(()=>[s("Errors")]),_:1}),n.jobFailureReasons.length===0?(t(),u(_,{key:0},{default:e(()=>[a(c,null,{default:e(()=>[a(r,null,{default:e(()=>[s("Good news; no errors found!")]),_:1})]),_:1})]),_:1})):(t(),p("div",E,[(t(!0),p(x,null,R(n.jobFailureReasons,(o,b)=>(t(),u(_,{key:b},{default:e(()=>[a(C,{"job-failure":o},null,8,["job-failure"])]),_:2},1024))),128))]))]),_:1}))}}),V={class:"row"},q={class:"col-12 col-sm-6 q-py-md"},D={class:"col-12 col-sm-6 q-py-md"},H={class:"row"},M={class:"col-12"},re=h({__name:"JobShowPage",props:{alias:null},setup(n){const d=n,l=g(null),o=g(null);function b(){o.value!==null&&o.value.stop(),o.value=L.jobs.show(d.alias).bypassAuth().listen().onUpdated(f=>l.value=f).start()}A(()=>b()),N(()=>{o.value!==null&&o.value.stop()});function B(f){return f.uuid}return(f,U)=>l.value!==null?(t(),u(k,{key:0,class:"justify-evenly",padding:""},{default:e(()=>[a(I,null,{default:e(()=>[a(j,{icon:"list",to:"/jobs",label:"Jobs"}),a(j,{label:l.value.alias,icon:"view_stream",to:"/jobs/"+l.value.alias},null,8,["label","to"])]),_:1}),i("div",V,[i("div",q,[a(v,{bordered:"",separator:""},{default:e(()=>[F((t(),u(_,null,{default:e(()=>[a(c,null,{default:e(()=>[a(r,null,{default:e(()=>[s(m(l.value.alias),1)]),_:1}),a(r,{caption:""},{default:e(()=>[s("Alias")]),_:1})]),_:1})]),_:1})),[[w]]),F((t(),u(_,null,{default:e(()=>[a(c,null,{default:e(()=>[a(r,null,{default:e(()=>[s(m(l.value.class),1)]),_:1}),a(r,{caption:""},{default:e(()=>[s("Class")]),_:1})]),_:1})]),_:1})),[[w]])]),_:1})]),i("div",D,[a(P,{"job-failure-reasons":l.value.failure_reasons},null,8,["job-failure-reasons"])])]),i("div",H,[i("div",M,[a(v,{bordered:"",class:"rounded-borders",style:{"min-width":"85%"}},{default:e(()=>[a(r,{header:""},{default:e(()=>[s("Runs")]),_:1}),a(Q),(t(!0),p(x,null,R(l.value.runs,y=>(t(),p("div",{key:B(y)},[a(J,{"tracked-run":y},null,8,["tracked-run"]),a(Q)]))),128))]),_:1})])])]),_:1})):(t(),u(k,{key:1,class:"items-center justify-evenly"},{default:e(()=>[s(" Loading ")]),_:1}))}});export{re as default};
